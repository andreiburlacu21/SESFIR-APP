<div class="row d-flex justify-content-center mt-5">
    <div class="col-5">
        <mat-progress-bar *ngIf="isLoading" mode="indeterminate" class="m-0 p-0"></mat-progress-bar>

        <mat-card *ngIf="userWantsToLogin">
            <div class="row">
                <h3 class="ms-1"> Log in </h3>
            </div>
            <form class="row">
                <mat-form-field appearance="outline">
                    <mat-label>Username</mat-label>
                    <input matInput [formControl]="usernameFormControl" required>
                    <mat-error *ngIf="usernameFormControl.hasError('required')"> Username is <strong>required</strong> </mat-error>
                </mat-form-field>
    
                <mat-form-field appearance="outline">
                    <mat-label>Password</mat-label>
                    <input matInput required [formControl]="passwordFormControl" type="password">
                    <mat-error *ngIf="passwordFormControl.hasError('required')"> Password is <strong>required</strong> </mat-error>
                </mat-form-field>
    
                <div class="row justify-content-center">
                    <button class="col-12 login-btn primary-action-btn"
                        [disabled]="usernameFormControl.hasError('required') || passwordFormControl.hasError('required')" (click)="logIn()"> Log in
                    </button>
                    <div class="row mt-2 mb-2 justify-content-center">
                        New to Sesfir?
                    </div>
                    <button class="col-12 register-btn secondary-action-btn" (click)="userWantsToRegister()"> Create an account </button>
                </div>
            </form>
        </mat-card>

        <mat-card *ngIf="!userWantsToLogin">
            <div class="row">
                <h3 class="ms-1"> Create an account </h3>
            </div>
            <div class="row">
                <mat-form-field appearance="outline">
                    <mat-label>Email</mat-label>
                    <input matInput required [formControl]="emailFormControl">
                    <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')"> Please enter a valid email address! </mat-error>
                    <mat-error *ngIf="emailFormControl.hasError('required')"> Email is <strong>required</strong> </mat-error>
                </mat-form-field>
    
                <mat-form-field appearance="outline">
                    <mat-label>Username</mat-label>
                    <input matInput required [formControl]="usernameFormControl">
                    <mat-error *ngIf="usernameFormControl.hasError('required')"> Username is <strong>required</strong> </mat-error>
                </mat-form-field>
    
                <mat-form-field appearance="outline">
                    <mat-label>Password</mat-label>
                    <input matInput required type="password" [formControl]="passwordFormControl">
                    <mat-error *ngIf="passwordFormControl.hasError('required')"> Password is <strong>required</strong> </mat-error>
                </mat-form-field>
    
                <mat-form-field appearance="outline">
                    <mat-label>Confirm password</mat-label>
                    <input matInput required type="password" [formControl]="confirmPasswordFormControl">
                    <mat-error *ngIf="confirmPasswordFormControl.hasError('required')"> Password confirmation is <strong>required</strong> </mat-error>
                </mat-form-field>
    
                <div class="row justify-content-center">
                    <button class="col-12 login-btn primary-action-btn"
                        [disabled]="emailFormControl.hasError('email') || emailFormControl.hasError('required') || usernameFormControl.hasError('required') || passwordFormControl.hasError('required') || confirmPasswordFormControl.hasError('required')" 
                        (click)="register()"> Register
                    </button>
                    <div class="row mt-2 mb-2 justify-content-center"></div>
                    <button class="col-12 register-btn secondary-action-btn" (click)="backToLogin()"> Back </button>
                </div>
            </div>
        </mat-card>
    </div>
</div>